<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¯å¢ƒè®¾ç½® - Agave Validator Documentation</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸŒªï¸</text></svg>">
</head>
<body>
    <div class="container">
        <!-- Search Bar -->
        <div class="search-container">
            <input type="text" class="search-bar" placeholder="æœç´¢æ–‡æ¡£..." id="searchInput">
            <a href="index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
        </div>

        <!-- Header -->
        <header class="header">
            <h1>âš¡ ç¯å¢ƒè®¾ç½®æŒ‡å—</h1>
            <p class="subtitle">å®Œæ•´çš„AgaveéªŒè¯å™¨æ„å»ºç¯å¢ƒé…ç½®æ•™ç¨‹</p>
        </header>

        <!-- Main Content -->
        <div class="content">
            <h2>ğŸ”§ ç³»ç»Ÿè¦æ±‚</h2>
            <div class="requirements-grid">
                <div class="requirement-card">
                    <h3>ç¡¬ä»¶é…ç½®</h3>
                    <ul>
                        <li>CPU: 12æ ¸å¿ƒ/24çº¿ç¨‹</li>
                        <li>å†…å­˜: æœ€å°‘32GBï¼Œæ¨è128GB</li>
                        <li>å­˜å‚¨: 2TB NVMe SSD</li>
                        <li>ç½‘ç»œ: 1Gbpså¸¦å®½ï¼Œæ¨è10Gbps</li>
                    </ul>
                </div>
                <div class="requirement-card">
                    <h3>æ“ä½œç³»ç»Ÿ</h3>
                    <ul>
                        <li>Ubuntu 20.04 LTSæˆ–æ›´æ–°ç‰ˆæœ¬</li>
                        <li>macOS 12.0æˆ–æ›´æ–°ç‰ˆæœ¬</li>
                        <li>Linuxå†…æ ¸5.4æˆ–æ›´æ–°ç‰ˆæœ¬</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="content">
            <h2>ğŸ macOSç¯å¢ƒé…ç½®</h2>
            
            <div class="setup-section">
                <h3>1. å®‰è£…Homebrew</h3>
                <pre><code># å®‰è£…Homebrew
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# é…ç½®PATH (Apple Silicon)
echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> ~/.zshrc
source ~/.zshrc</code></pre>
            </div>

            <div class="setup-section">
                <h3>2. å®‰è£…ä¾èµ–</h3>
                <pre><code># å®‰è£…åŸºç¡€ä¾èµ–
brew install \
    git \
    pkg-config \
    make \
    cmake \
    llvm \
    protobuf \
    openssl@3 \
    rocksdb

# å®‰è£…Rustå·¥å…·é“¾
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source $HOME/.cargo/env</code></pre>
            </div>

            <div class="setup-section">
                <h3>3. é…ç½®ç¯å¢ƒå˜é‡</h3>
                <pre><code># æ·»åŠ åˆ° ~/.zshrc
export DYLD_LIBRARY_PATH="/opt/homebrew/lib"
export PATH="/opt/homebrew/bin:$PATH"
export OPENSSL_ROOT_DIR="/opt/homebrew/opt/openssl@3"
export OPENSSL_LIB_DIR="/opt/homebrew/opt/openssl@3/lib"
export OPENSSL_INCLUDE_DIR="/opt/homebrew/opt/openssl@3/include"</code></pre>
            </div>

            <div class="alert alert-info">
                <strong>æ³¨æ„:</strong> å¦‚æœé‡åˆ° libclang.dylib ç›¸å…³é”™è¯¯ï¼Œè¯·ç¡®ä¿å·²æ­£ç¡®å®‰è£… LLVMï¼š
                <pre><code>brew install llvm
echo 'export PATH="/opt/homebrew/opt/llvm/bin:$PATH"' >> ~/.zshrc</code></pre>
            </div>
        </div>

        <div class="content">
            <h2>ğŸ§ Linuxç¯å¢ƒé…ç½®</h2>
            
            <div class="setup-section">
                <h3>1. å®‰è£…ç³»ç»Ÿä¾èµ–</h3>
                <pre><code># æ›´æ–°ç³»ç»ŸåŒ…
sudo apt update && sudo apt upgrade -y

# å®‰è£…åŸºç¡€ä¾èµ–
sudo apt install -y \
    git \
    pkg-config \
    build-essential \
    libssl-dev \
    libclang-dev \
    cmake \
    protobuf-compiler \
    libprotobuf-dev</code></pre>
            </div>

            <div class="setup-section">
                <h3>2. å®‰è£…RocksDB</h3>
                <pre><code># å®‰è£…RocksDBä¾èµ–
sudo apt install -y \
    libgflags-dev \
    libsnappy-dev \
    zlib1g-dev \
    libbz2-dev \
    liblz4-dev \
    libzstd-dev

# ç¼–è¯‘å®‰è£…RocksDB
git clone https://github.com/facebook/rocksdb.git
cd rocksdb
git checkout v7.10.2
sudo make shared_lib
sudo make install-shared</code></pre>
            </div>

            <div class="setup-section">
                <h3>3. å®‰è£…Rustå·¥å…·é“¾</h3>
                <pre><code># å®‰è£…Rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source $HOME/.cargo/env

# å®‰è£…ç‰¹å®šç‰ˆæœ¬
rustup install 1.70.0
rustup default 1.70.0</code></pre>
            </div>

            <div class="alert alert-warning">
                <strong>æ€§èƒ½ä¼˜åŒ–:</strong> å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œå»ºè®®è¿›è¡Œä»¥ä¸‹ç³»ç»Ÿä¼˜åŒ–ï¼š
                <pre><code># è°ƒæ•´ç³»ç»Ÿé™åˆ¶
echo "* soft nofile 1000000" | sudo tee -a /etc/security/limits.conf
echo "* hard nofile 1000000" | sudo tee -a /etc/security/limits.conf

# ä¼˜åŒ–ç½‘ç»œå‚æ•°
echo "net.core.rmem_max=134217728" | sudo tee -a /etc/sysctl.conf
echo "net.core.wmem_max=134217728" | sudo tee -a /etc/sysctl.conf
sudo sysctl -p</code></pre>
            </div>
        </div>

        <div class="content">
            <h2>ğŸš€ éªŒè¯å®‰è£…</h2>
            
            <div class="setup-section">
                <h3>å…‹éš†ä»£ç åº“</h3>
                <pre><code>git clone https://github.com/anza-xyz/agave.git
cd agave</code></pre>
            </div>

            <div class="setup-section">
                <h3>æ„å»ºæµ‹è¯•</h3>
                <pre><code># æ„å»ºåŸºç¡€ç»„ä»¶
cargo build --release --bin solana

# è¿è¡Œå•å…ƒæµ‹è¯•
cargo test --package solana-core -- --nocapture</code></pre>
            </div>

            <div class="alert alert-success">
                <strong>æˆåŠŸæ ‡å‡†:</strong>
                <ul>
                    <li>æ‰€æœ‰å‘½ä»¤æ‰§è¡Œæ— é”™è¯¯</li>
                    <li>cargo build æˆåŠŸå®Œæˆ</li>
                    <li>æµ‹è¯•ç”¨ä¾‹å…¨éƒ¨é€šè¿‡</li>
                </ul>
            </div>
        </div>

        <div class="content">
            <h2>â“ å¸¸è§é—®é¢˜</h2>
            
            <div class="faq-section">
                <div class="faq-item">
                    <h3>Q: ç¼–è¯‘æ—¶é‡åˆ° LLVM/Clang ç›¸å…³é”™è¯¯ï¼Ÿ</h3>
                    <p>A: ç¡®ä¿å·²æ­£ç¡®å®‰è£… LLVM å¹¶è®¾ç½®ç¯å¢ƒå˜é‡ï¼š</p>
                    <pre><code># macOS
brew install llvm
echo 'export PATH="/opt/homebrew/opt/llvm/bin:$PATH"' >> ~/.zshrc

# Linux
sudo apt install -y clang llvm</code></pre>
                </div>

                <div class="faq-item">
                    <h3>Q: RocksDB ç¼–è¯‘å¤±è´¥ï¼Ÿ</h3>
                    <p>A: æ£€æŸ¥æ˜¯å¦å®‰è£…äº†æ‰€æœ‰å¿…è¦çš„ä¾èµ–ï¼š</p>
                    <pre><code># macOS
brew install rocksdb

# Linux
sudo apt install -y \
    libgflags-dev \
    libsnappy-dev \
    zlib1g-dev \
    libbz2-dev \
    liblz4-dev \
    libzstd-dev</code></pre>
                </div>

                <div class="faq-item">
                    <h3>Q: Cargo build æ—¶å†…å­˜ä¸è¶³ï¼Ÿ</h3>
                    <p>A: å¯ä»¥å°è¯•å‡å°‘å¹¶è¡Œç¼–è¯‘ä»»åŠ¡æ•°ï¼š</p>
                    <pre><code>CARGO_BUILD_JOBS=4 cargo build --release</code></pre>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>AgaveéªŒè¯å™¨æ–‡æ¡£ä¸­å¿ƒ â€¢ ä¸ºSolanaç”Ÿæ€å¼€å‘å’ŒéªŒè¯å™¨è¿è¥è€Œåˆ›å»º</p>
            <p>ğŸŒªï¸ åŠ©åŠ›æ„å»ºé«˜æ€§èƒ½åŒºå—é“¾ç½‘ç»œï¼Œæ”¯æ’‘Web3æœªæ¥</p>
        </footer>

        <!-- Theme Toggle Button -->
        <button class="theme-toggle" id="themeToggle" aria-label="åˆ‡æ¢æ·±è‰²æ¨¡å¼">
            ğŸŒ“
        </button>
    </div>

    <script>
        // Theme Toggle
        const themeToggle = document.getElementById('themeToggle');
        const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
        
        function toggleTheme() {
            document.body.classList.toggle('dark-theme');
            localStorage.setItem('theme', document.body.classList.contains('dark-theme') ? 'dark' : 'light');
        }

        // åˆå§‹åŒ–ä¸»é¢˜
        if (localStorage.getItem('theme') === 'dark' || (!localStorage.getItem('theme') && prefersDarkScheme.matches)) {
            document.body.classList.add('dark-theme');
        }

        themeToggle.addEventListener('click', toggleTheme);
        prefersDarkScheme.addListener((e) => {
            if (!localStorage.getItem('theme')) {
                if (e.matches) {
                    document.body.classList.add('dark-theme');
                } else {
                    document.body.classList.remove('dark-theme');
                }
            }
        });

        // Add copy functionality to code blocks
        document.querySelectorAll('pre code').forEach(block => {
            block.addEventListener('click', function() {
                navigator.clipboard.writeText(this.textContent).then(() => {
                    const pre = this.parentElement;
                    const originalBorder = pre.style.borderColor;
                    pre.style.borderColor = 'var(--success-green)';
                    setTimeout(() => {
                        pre.style.borderColor = originalBorder;
                    }, 1000);
                });
            });
        });

        // Add loading indicator for navigation
        document.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', function(e) {
                if (!this.href.startsWith('#')) {
                    const loading = document.createElement('div');
                    loading.className = 'loading';
                    this.appendChild(loading);
                }
            });
        });
    </script>
</body>
</html> 